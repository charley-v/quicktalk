import { AmplifyError, AmplifyFault, AmplifyUserError, } from '@aws-amplify/platform-core';
/**
 * Transforms CDK error messages to human readable ones
 */
export class CdkErrorMapper {
    formatter;
    multiLineEolRegex = '[\r\n]+';
    /**
     * Instantiate with a formatter that will be used for formatting CLI commands in error messages
     */
    constructor(formatter) {
        this.formatter = formatter;
    }
    getAmplifyError = (error) => {
        let underlyingError = error;
        // Check if there was an Amplify error thrown during child process execution
        const amplifyError = AmplifyError.fromStderr(error.message);
        if (amplifyError) {
            return amplifyError;
        }
        const matchingError = this.getKnownErrors().find((knownError) => knownError.errorRegex.test(error.message));
        if (matchingError) {
            // Extract meaningful contextual information if available
            const matchGroups = error.message.match(matchingError.errorRegex);
            if (matchGroups && matchGroups.length > 1) {
                // If the contextual information can be used in the error message use it, else consider it as a downstream cause
                if (matchGroups.groups) {
                    for (const [key, value] of Object.entries(matchGroups.groups)) {
                        const placeHolder = `{${key}}`;
                        if (matchingError.humanReadableErrorMessage.includes(placeHolder) ||
                            matchingError.resolutionMessage.includes(placeHolder)) {
                            matchingError.humanReadableErrorMessage =
                                matchingError.humanReadableErrorMessage.replace(placeHolder, value);
                            matchingError.resolutionMessage =
                                matchingError.resolutionMessage.replace(placeHolder, value);
                            // reset the stderr dump in the underlying error
                            underlyingError = undefined;
                        }
                    }
                    // remove any trailing EOL
                    matchingError.humanReadableErrorMessage =
                        matchingError.humanReadableErrorMessage.replace(new RegExp(`${this.multiLineEolRegex}$`), '');
                }
                else {
                    underlyingError.message = matchGroups[0];
                }
            }
            return matchingError.classification === 'ERROR'
                ? new AmplifyUserError(matchingError.errorName, {
                    message: matchingError.humanReadableErrorMessage,
                    resolution: matchingError.resolutionMessage,
                }, underlyingError)
                : new AmplifyFault(matchingError.errorName, {
                    message: matchingError.humanReadableErrorMessage,
                    resolution: matchingError.resolutionMessage,
                }, underlyingError);
        }
        return AmplifyError.fromError(error);
    };
    getKnownErrors = () => [
        {
            errorRegex: /ExpiredToken|Error: The security token included in the request is expired/,
            humanReadableErrorMessage: 'The security token included in the request is invalid.',
            resolutionMessage: "Please update your AWS credentials. You can do this by running `aws configure` or by updating your AWS credentials file. If you're using temporary credentials, you may need to obtain new ones.",
            errorName: 'ExpiredTokenError',
            classification: 'ERROR',
        },
        {
            errorRegex: /Access Denied/,
            humanReadableErrorMessage: 'The deployment role does not have sufficient permissions to perform this deployment.',
            resolutionMessage: 'Ensure your deployment role has the AmplifyBackendDeployFullAccess role along with any additional permissions required to deploy your backend definition.',
            errorName: 'AccessDeniedError',
            classification: 'ERROR',
        },
        {
            errorRegex: /(Has the environment been bootstrapped)|(Is account \d+ bootstrapped)|(Is this account bootstrapped)/,
            humanReadableErrorMessage: 'This AWS account and region has not been bootstrapped.',
            resolutionMessage: 'Run `cdk bootstrap aws://{YOUR_ACCOUNT_ID}/{YOUR_REGION}` locally to resolve this.',
            errorName: 'BootstrapNotDetectedError',
            classification: 'ERROR',
        },
        {
            errorRegex: /This CDK deployment requires bootstrap stack version \S+, found \S+\. Please run 'cdk bootstrap'\./,
            humanReadableErrorMessage: 'This AWS account and region has outdated CDK bootstrap stack.',
            resolutionMessage: 'Run `cdk bootstrap aws://{YOUR_ACCOUNT_ID}/{YOUR_REGION}` locally to re-bootstrap.',
            errorName: 'BootstrapOutdatedError',
            classification: 'ERROR',
        },
        {
            errorRegex: /This CDK deployment requires bootstrap stack version \S+, but during the confirmation via SSM parameter \S+ the following error occurred: AccessDeniedException/,
            humanReadableErrorMessage: 'Unable to detect CDK bootstrap stack due to permission issues.',
            resolutionMessage: "Ensure that AWS credentials have an IAM policy that grants read access to 'arn:aws:ssm:*:*:parameter/cdk-bootstrap/*' SSM parameters.",
            errorName: 'BootstrapDetectionError',
            classification: 'ERROR',
        },
        {
            errorRegex: /This CDK CLI is not compatible with the CDK library used by your application\. Please upgrade the CLI to the latest version\./,
            humanReadableErrorMessage: "Installed 'aws-cdk' is not compatible with installed 'aws-cdk-lib'.",
            resolutionMessage: "Make sure that version of 'aws-cdk' is greater or equal to version of 'aws-cdk-lib'",
            errorName: 'CDKVersionMismatchError',
            classification: 'ERROR',
        },
        {
            errorRegex: new RegExp(`(SyntaxError|ReferenceError|TypeError)( \\[[A-Z_]+])?:((?:.|${this.multiLineEolRegex})*?at .*)`),
            humanReadableErrorMessage: 'Unable to build the Amplify backend definition.',
            resolutionMessage: 'Check your backend definition in the `amplify` folder for syntax and type errors.',
            errorName: 'SyntaxError',
            classification: 'ERROR',
        },
        {
            errorRegex: /Unable to resolve AWS account to use/,
            humanReadableErrorMessage: 'Unable to resolve AWS account to use. It must be either configured when you define your CDK Stack, or through the environment',
            resolutionMessage: 'You can retry your last request as this is most likely a transient issue: https://github.com/aws/aws-cdk/issues/24744. If the error persists ensure your local AWS credentials are valid.',
            errorName: 'CDKResolveAWSAccountError',
            classification: 'ERROR',
        },
        {
            errorRegex: /EACCES(.*)/,
            humanReadableErrorMessage: 'File permissions error',
            resolutionMessage: 'Check that you have the right access permissions to the mentioned file',
            errorName: 'FilePermissionsError',
            classification: 'ERROR',
        },
        {
            errorRegex: new RegExp(`\\[ERR_MODULE_NOT_FOUND\\]:(.*)${this.multiLineEolRegex}|Error: Cannot find module (.*)`),
            humanReadableErrorMessage: 'Cannot find module',
            resolutionMessage: 'Check your backend definition in the `amplify` folder for missing file or package imports. Try installing them with your package manager.',
            errorName: 'ModuleNotFoundError',
            classification: 'ERROR',
        },
        {
            // Truncate the cdk error message's second line (Invoke the CLI in sequence, or use '--output' to synth into different directories.)
            errorRegex: /Another CLI (.*) is currently(.*)\. |Other CLIs (.*) are currently reading from(.*)\. /,
            humanReadableErrorMessage: 'Multiple sandbox instances detected.',
            resolutionMessage: 'Make sure only one instance of sandbox is running for this project',
            errorName: 'MultipleSandboxInstancesError',
            classification: 'ERROR',
        },
        {
            errorRegex: /User:(.*) is not authorized to perform: lambda:GetLayerVersion on resource:(.*) because no resource-based policy allows the lambda:GetLayerVersion action/,
            humanReadableErrorMessage: 'Unable to get Lambda layer version',
            resolutionMessage: 'Make sure layer ARNs are correct and layer regions match function region',
            errorName: 'GetLambdaLayerVersionError',
            classification: 'ERROR',
        },
        {
            //This has some overlap with "User:__ is not authorized to perform:__ on resource: __" - some resources cannot be deleted due to lack of permissions
            errorRegex: /The stack named (?<stackName>.*) is in a failed state. You may need to delete it from the AWS console : DELETE_FAILED \(The following resource\(s\) failed to delete: (?<resources>.*). \)/,
            humanReadableErrorMessage: 'The CloudFormation deletion failed due to {stackName} being in DELETE_FAILED state. Ensure all your resources are able to be deleted',
            resolutionMessage: 'The following resource(s) failed to delete: {resources}. Ensure they are in a state where they can be deleted. Find more information in the CloudFormation AWS Console for this stack.',
            errorName: 'CloudFormationDeletionError',
            classification: 'ERROR',
        },
        {
            errorRegex: /User:(.*) is not authorized to perform:(.*) on resource:(?<resource>.*) because no identity-based policy allows the (?<action>.*) action/,
            humanReadableErrorMessage: 'Unable to deploy due to insufficient permissions',
            resolutionMessage: 'Ensure you have permissions to call {action} for {resource}',
            errorName: 'AccessDeniedError',
            classification: 'ERROR',
        },
        {
            errorRegex: /User:(.*) is not authorized to perform:(?<action>.*) on resource:(?<resource>.*)/,
            humanReadableErrorMessage: 'Unable to deploy due to insufficient permissions',
            resolutionMessage: 'Ensure you have permissions to call {action} for {resource}',
            errorName: 'AccessDeniedError',
            classification: 'ERROR',
        },
        {
            // Also extracts the first line in the stack where the error happened
            errorRegex: new RegExp(`\\[esbuild Error\\]: ((?:.|${this.multiLineEolRegex})*?at .*)`),
            humanReadableErrorMessage: 'Unable to build the Amplify backend definition.',
            resolutionMessage: 'Check your backend definition in the `amplify` folder for syntax and type errors.',
            errorName: 'ESBuildError',
            classification: 'ERROR',
        },
        {
            // Also extracts the first line in the stack where the error happened
            errorRegex: new RegExp(`[✘X] \\[ERROR\\] ((?:.|${this.multiLineEolRegex})*error.*)`),
            humanReadableErrorMessage: 'Unable to build the Amplify backend definition.',
            resolutionMessage: 'Check your backend definition in the `amplify` folder for syntax and type errors.',
            errorName: 'ESBuildError',
            classification: 'ERROR',
        },
        {
            // If there are multiple errors, capture all lines containing the errors
            errorRegex: new RegExp(`(\\[TransformError\\]|Error): Transform failed with .* error(s?):${this.multiLineEolRegex}(?<esBuildErrorMessage>(.*ERROR:.*${this.multiLineEolRegex})+)`),
            humanReadableErrorMessage: '{esBuildErrorMessage}',
            resolutionMessage: 'Fix the above mentioned type or syntax error in your backend definition.',
            errorName: 'ESBuildError',
            classification: 'ERROR',
        },
        {
            // Captures other forms of transform error
            errorRegex: new RegExp(`Error \\[TransformError\\]:(${this.multiLineEolRegex}|\\s)?(?<esBuildErrorMessage>(.*(${this.multiLineEolRegex})?)+)`),
            humanReadableErrorMessage: '{esBuildErrorMessage}',
            resolutionMessage: 'Make sure esbuild is installed and is compatible with the platform you are currently using.',
            errorName: 'ESBuildError',
            classification: 'ERROR',
        },
        {
            errorRegex: /Amplify Backend not found in/,
            humanReadableErrorMessage: 'Backend definition could not be found in amplify directory.',
            resolutionMessage: 'Ensure that the amplify/backend.(ts|js) file exists',
            errorName: 'FileConventionError',
            classification: 'ERROR',
        },
        {
            errorRegex: /Amplify (.*) must be defined in (.*)/,
            humanReadableErrorMessage: 'File name or path for backend definition are incorrect.',
            resolutionMessage: 'Ensure that the amplify/backend.(ts|js) file exists',
            errorName: 'FileConventionError',
            classification: 'ERROR',
        },
        {
            errorRegex: /Updates are not allowed for property/,
            humanReadableErrorMessage: 'The changes that you are trying to apply are not supported.',
            resolutionMessage: 'The resources referenced in the error message must be deleted and recreated to apply the changes.',
            errorName: 'CFNUpdateNotSupportedError',
            classification: 'ERROR',
        },
        {
            // This error originates from Cognito service when user tries to change UserPool attributes which is not allowed
            // https://docs.aws.amazon.com/cognito/latest/developerguide/user-pool-settings-attributes.html
            // Remapping to `UpdateNotSupported` will allow sandbox to prompt users for resetting their environment
            errorRegex: /Invalid AttributeDataType input, consider using the provided AttributeDataType enum/,
            humanReadableErrorMessage: 'User pool attributes cannot be changed after a user pool has been created.',
            resolutionMessage: 'To change these attributes, remove `defineAuth` from your backend, deploy, then add it back. Note that removing `defineAuth` and deploying will delete any users stored in your UserPool.',
            errorName: 'CFNUpdateNotSupportedError',
            classification: 'ERROR',
        },
        {
            errorRegex: new RegExp(`npm error code EJSONPARSE${this.multiLineEolRegex}npm error path (?<filePath>.*/package\\.json)${this.multiLineEolRegex}(npm error (.*)${this.multiLineEolRegex})*`),
            humanReadableErrorMessage: 'The {filePath} is not a valid JSON.',
            resolutionMessage: `Check package.json file and make sure it is a valid JSON.`,
            errorName: 'InvalidPackageJsonError',
            classification: 'ERROR',
        },
        {
            errorRegex: new RegExp(`(?<npmError>(npm error|npm ERR!) code ENOENT${this.multiLineEolRegex}((npm error|npm ERR!) (.*)${this.multiLineEolRegex})*)`),
            humanReadableErrorMessage: 'NPM error occurred: {npmError}',
            resolutionMessage: `See https://docs.npmjs.com/common-errors for resolution.`,
            errorName: 'CommonNPMError',
            classification: 'ERROR',
        },
        {
            // Error: .* is printed to stderr during cdk synth
            // Also extracts the first line in the stack where the error happened
            errorRegex: new RegExp(`^Error: (.*${this.multiLineEolRegex}.*at.*)`, 'm'),
            humanReadableErrorMessage: 'Unable to build the Amplify backend definition.',
            resolutionMessage: 'Check your backend definition in the `amplify` folder for syntax and type errors.',
            errorName: 'BackendSynthError',
            classification: 'ERROR',
        },
        {
            // This happens when 'defineBackend' call is missing in customer's app.
            // 'defineBackend' creates CDK app in memory. If it's missing then no cdk.App exists in memory and nothing is rendered.
            // During 'cdk synth' CDK CLI attempts to read CDK assembly after calling customer's app.
            // But no files are rendered causing it to fail.
            errorRegex: /ENOENT: no such file or directory, open '\.amplify.artifacts.cdk\.out.manifest\.json'/,
            humanReadableErrorMessage: 'The Amplify backend definition is missing `defineBackend` call.',
            resolutionMessage: 'Check your backend definition in the `amplify` folder. Ensure that `amplify/backend.ts` contains `defineBackend` call.',
            errorName: 'MissingDefineBackendError',
            classification: 'ERROR',
        },
        {
            // "Catch all": the backend entry point file is referenced in the stack indicating a problem in customer code
            errorRegex: /amplify\/backend/,
            humanReadableErrorMessage: 'Unable to build Amplify backend.',
            resolutionMessage: 'Check your backend definition in the `amplify` folder for syntax and type errors.',
            errorName: 'BackendBuildError',
            classification: 'ERROR',
        },
        {
            // We capture the parameter name to show relevant error message
            errorRegex: /Failed to retrieve backend secret (?<secretName>.*) for.*ParameterNotFound/,
            humanReadableErrorMessage: `The secret {secretName} specified in the backend does not exist.`,
            resolutionMessage: `Create secrets using the command ${this.formatter.normalizeAmpxCommand('sandbox secret set')}. For more information, see https://docs.amplify.aws/gen2/deploy-and-host/sandbox-environments/features/#set-secrets`,
            errorName: 'SecretNotSetError',
            classification: 'ERROR',
        },
        {
            errorRegex: /BadRequestException: The code contains one or more errors|The code contains one or more errors.*AppSync/,
            humanReadableErrorMessage: `A custom resolver used in your defineData contains one or more errors`,
            resolutionMessage: `Check for any syntax errors in your custom resolvers code.`,
            errorName: 'AppSyncResolverSyntaxError',
            classification: 'ERROR',
        },
        // Generic error printed by CDK. Order matters so keep this towards the bottom of this list
        {
            // Error: .* is printed to stderr during cdk synth
            // Also extracts the first line in the stack where the error happened
            errorRegex: new RegExp(`^Error: (.*${this.multiLineEolRegex}.*at.*)`, 'm'),
            humanReadableErrorMessage: 'Unable to build the Amplify backend definition.',
            resolutionMessage: 'Check your backend definition in the `amplify` folder for syntax and type errors.',
            errorName: 'BackendSynthError',
            classification: 'ERROR',
        },
        {
            errorRegex: /(?<stackName>amplify-[a-z0-9-]+)(.*) failed: ValidationError: Stack:(.*) is in (?<state>.*) state and can not be updated/,
            humanReadableErrorMessage: 'The CloudFormation deployment failed due to {stackName} being in {state} state.',
            resolutionMessage: 'Find more information in the CloudFormation AWS Console for this stack.',
            errorName: 'CloudFormationDeploymentError',
            classification: 'ERROR',
        },
        {
            // Note that the order matters, this should be the last as it captures generic CFN error
            errorRegex: new RegExp(`Deployment failed: (.*)${this.multiLineEolRegex}|The stack named (.*) failed (to deploy:|creation,) (.*)`),
            humanReadableErrorMessage: 'The CloudFormation deployment has failed.',
            resolutionMessage: 'Find more information in the CloudFormation AWS Console for this stack.',
            errorName: 'CloudFormationDeploymentError',
            classification: 'ERROR',
        },
    ];
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2RrX2Vycm9yX21hcHBlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jZGtfZXJyb3JfbWFwcGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDTCxZQUFZLEVBRVosWUFBWSxFQUNaLGdCQUFnQixHQUNqQixNQUFNLDRCQUE0QixDQUFDO0FBR3BDOztHQUVHO0FBQ0gsTUFBTSxPQUFPLGNBQWM7SUFLSTtJQUpyQixpQkFBaUIsR0FBRyxTQUFTLENBQUM7SUFDdEM7O09BRUc7SUFDSCxZQUE2QixTQUF5QztRQUF6QyxjQUFTLEdBQVQsU0FBUyxDQUFnQztJQUFHLENBQUM7SUFFMUUsZUFBZSxHQUFHLENBQ2hCLEtBQVksRUFDK0IsRUFBRTtRQUM3QyxJQUFJLGVBQWUsR0FBc0IsS0FBSyxDQUFDO1FBRS9DLDRFQUE0RTtRQUM1RSxNQUFNLFlBQVksR0FBRyxZQUFZLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUM1RCxJQUFJLFlBQVksRUFBRTtZQUNoQixPQUFPLFlBQVksQ0FBQztTQUNyQjtRQUVELE1BQU0sYUFBYSxHQUFHLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxVQUFVLEVBQUUsRUFBRSxDQUM5RCxVQUFVLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQzFDLENBQUM7UUFFRixJQUFJLGFBQWEsRUFBRTtZQUNqQix5REFBeUQ7WUFDekQsTUFBTSxXQUFXLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBRWxFLElBQUksV0FBVyxJQUFJLFdBQVcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO2dCQUN6QyxnSEFBZ0g7Z0JBQ2hILElBQUksV0FBVyxDQUFDLE1BQU0sRUFBRTtvQkFDdEIsS0FBSyxNQUFNLENBQUMsR0FBRyxFQUFFLEtBQUss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aWNhdGlvbixcbiAgQW1wbGlmeUZhdWx0LFxuICBBbXBsaWZ5VXNlckVycm9yLFxufSBmcm9tICdAYXdzLWFtcGxpZnkvcGxhdGZvcm0tY29yZSc7XG5pbXBvcnQgeyBCYWNrZW5kRGVwbG95ZXJPdXRwdXRGb3JtYXR0ZXIgfSBmcm9tICcuL3R5cGVzLmpzJztcblxuLyoqXG4gKiBUcmFuc2Zvcm1zIENESyBlcnJvciBtZXNzYWdlcyB0byBodW1hbiByZWFkYWJsZSBvbmVzXG4gKi9cbmV4cG9ydCBjbGFzcyBDZGtFcnJvck1hcHBlciB7XG4gIHByaXZhdGUgbXVsdGlMaW5lRW9sUmVnZXggPSAnW1xcclxcbl0rJztcbiAgLyoqXG4gICAqIEluc3RhbnRpYXRlIHdpdGggYSBmb3JtYXR0ZXIgdGhhdCB3aWxsIGJlIHVzZWQgZm9yIGZvcm1hdHRpbmcgQ0xJIGNvbW1hbmRzIGluIGVycm9yIG1lc3NhZ2VzXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGZvcm1hdHRlcjogQmFja2VuZERlcGxveWVyT3V0cHV0Rm9ybWF0dGVyKSB7fVxuXG4gIGdldEFtcGxpZnlFcnJvciA9IChcbiAgICBlcnJvcjogRXJyb3JcbiAgKTogQW1wbGlmeUVycm9yPENES0RlcGxveW1lbnRFcnJvciB8IHN0cmluZz4gPT4ge1xuICAgIGxldCB1bmRlcmx5aW5nRXJyb3I6IEVycm9yIHwgdW5kZWZpbmVkID0gZXJyb3I7XG5cbiAgICAvLyBDaGVjayBpZiB0aGVyZSB3YXMgYW4gQW1wbGlmeSBlcnJvciB0aHJvd24gZHVyaW5nIGNoaWxkIHByb2Nlc3MgZXhlY3V0aW9uXG4gICAgY29uc3QgYW1wbGlmeUVycm9yID0gQW1wbGlmeUVycm9yLmZyb21TdGRlcnIoZXJyb3IubWVzc2FnZSk7XG4gICAgaWYgKGFtcGxpZnlFcnJvcikge1xuICAgICAgcmV0dXJuIGFtcGxpZnlFcnJvcjtcbiAgICB9XG5cbiAgICBjb25zdCBtYXRjaGluZ0Vycm9yID0gdGhpcy5nZXRLbm93bkVycm9ycygpLmZpbmQoKGtub3duRXJyb3IpID0+XG4gICAgICBrbm93bkVycm9yLmVycm9yUmVnZXgudGVzdChlcnJvci5tZXNzYWdlKVxuICAgICk7XG5cbiAgICBpZiAobWF0Y2hpbmdFcnJvcikge1xuICAgICAgLy8gRXh0cmFjdCBtZWFuaW5nZnVsIGNvbnRleHR1YWwgaW5mb3JtYXRpb24gaWYgYXZhaWxhYmxlXG4gICAgICBjb25zdCBtYXRjaEdyb3VwcyA9IGVycm9yLm1lc3NhZ2UubWF0Y2gobWF0Y2hpbmdFcnJvci5lcnJvclJlZ2V4KTtcblxuICAgICAgaWYgKG1hdGNoR3JvdXBzICYmIG1hdGNoR3JvdXBzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgLy8gSWYgdGhlIGNvbnRleHR1YWwgaW5mb3JtYXRpb24gY2FuIGJlIHVzZWQgaW4gdGhlIGVycm9yIG1lc3NhZ2UgdXNlIGl0LCBlbHNlIGNvbnNpZGVyIGl0IGFzIGEgZG93bnN0cmVhbSBjYXVzZVxuICAgICAgICBpZiAobWF0Y2hHcm91cHMuZ3JvdXBzKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMobWF0Y2hHcm91cHMuZ3JvdXBzKSkge1xuICAgICAgICAgICAgY29uc3QgcGxhY2VIb2xkZXIgPSBgeyR7a2V5fX1gO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBtYXRjaGluZ0Vycm9yLmh1bWFuUmVhZGFibGVFcnJvck1lc3NhZ2UuaW5jbHVkZXMocGxhY2VIb2xkZXIpIHx8XG4gICAgICAgICAgICAgIG1hdGNoaW5nRXJyb3IucmVzb2x1dGlvbk1lc3NhZ2UuaW5jbHVkZXMocGxhY2VIb2xkZXIpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgbWF0Y2hpbmdFcnJvci5odW1hblJlYWRhYmxlRXJyb3JNZXNzYWdlID1cbiAgICAgICAgICAgICAgICBtYXRjaGluZ0Vycm9yLmh1bWFuUmVhZGFibGVFcnJvck1lc3NhZ2UucmVwbGFjZShcbiAgICAgICAgICAgICAgICAgIHBsYWNlSG9sZGVyLFxuICAgICAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgIG1hdGNoaW5nRXJyb3IucmVzb2x1dGlvbk1lc3NhZ2UgPVxuICAgICAgICAgICAgICAgIG1hdGNoaW5nRXJyb3IucmVzb2x1dGlvbk1lc3NhZ2UucmVwbGFjZShwbGFjZUhvbGRlciwgdmFsdWUpO1xuICAgICAgICAgICAgICAvLyByZXNldCB0aGUgc3RkZXJyIGR1bXAgaW4gdGhlIHVuZGVybHlpbmcgZXJyb3JcbiAgICAgICAgICAgICAgdW5kZXJseWluZ0Vycm9yID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyByZW1vdmUgYW55IHRyYWlsaW5nIEVPTFxuICAgICAgICAgIG1hdGNoaW5nRXJyb3IuaHVtYW5SZWFkYWJsZUVycm9yTWVzc2FnZSA9XG4gICAgICAgICAgICBtYXRjaGluZ0Vycm9yLmh1bWFuUmVhZGFibGVFcnJvck1lc3NhZ2UucmVwbGFjZShcbiAgICAgICAgICAgICAgbmV3IFJlZ0V4cChgJHt0aGlzLm11bHRpTGluZUVvbFJlZ2V4fSRgKSxcbiAgICAgICAgICAgICAgJydcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdW5kZXJseWluZ0Vycm9yLm1lc3NhZ2UgPSBtYXRjaEdyb3Vwc1swXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbWF0Y2hpbmdFcnJvci5jbGFzc2lmaWNhdGlvbiA9PT0gJ0VSUk9SJ1xuICAgICAgICA/IG5ldyBBbXBsaWZ5VXNlckVycm9yKFxuICAgICAgICAgICAgbWF0Y2hpbmdFcnJvci5lcnJvck5hbWUsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG1lc3NhZ2U6IG1hdGNoaW5nRXJyb3IuaHVtYW5SZWFkYWJsZUVycm9yTWVzc2FnZSxcbiAgICAgICAgICAgICAgcmVzb2x1dGlvbjogbWF0Y2hpbmdFcnJvci5yZXNvbHV0aW9uTWVzc2FnZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1bmRlcmx5aW5nRXJyb3JcbiAgICAgICAgICApXG4gICAgICAgIDogbmV3IEFtcGxpZnlGYXVsdChcbiAgICAgICAgICAgIG1hdGNoaW5nRXJyb3IuZXJyb3JOYW1lLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBtZXNzYWdlOiBtYXRjaGluZ0Vycm9yLmh1bWFuUmVhZGFibGVFcnJvck1lc3NhZ2UsXG4gICAgICAgICAgICAgIHJlc29sdXRpb246IG1hdGNoaW5nRXJyb3IucmVzb2x1dGlvbk1lc3NhZ2UsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdW5kZXJseWluZ0Vycm9yXG4gICAgICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIEFtcGxpZnlFcnJvci5mcm9tRXJyb3IoZXJyb3IpO1xuICB9O1xuXG4gIHByaXZhdGUgZ2V0S25vd25FcnJvcnMgPSAoKTogQXJyYXk8e1xuICAgIGVycm9yUmVnZXg6IFJlZ0V4cDtcbiAgICBodW1hblJlYWRhYmxlRXJyb3JNZXNzYWdlOiBzdHJpbmc7XG4gICAgcmVzb2x1dGlvbk1lc3NhZ2U6IHN0cmluZztcbiAgICBlcnJvck5hbWU6IENES0RlcGxveW1lbnRFcnJvcjtcbiAgICBjbGFzc2lmaWNhdGlvbjogQW1wbGlmeUVycm9yQ2xhc3NpZmljYXRpb247XG4gIH0+ID0+IFtcbiAgICB7XG4gICAgICBlcnJvclJlZ2V4OlxuICAgICAgICAvRXhwaXJlZFRva2VufEVycm9yOiBUaGUgc2VjdXJpdHkgdG9rZW4gaW5jbHVkZWQgaW4gdGhlIHJlcXVlc3QgaXMgZXhwaXJlZC8sXG4gICAgICBodW1hblJlYWRhYmxlRXJyb3JNZXNzYWdlOlxuICAgICAgICAnVGhlIHNlY3VyaXR5IHRva2VuIGluY2x1ZGVkIGluIHRoZSByZXF1ZXN0IGlzIGludmFsaWQuJyxcbiAgICAgIHJlc29sdXRpb25NZXNzYWdlOlxuICAgICAgICBcIlBsZWFzZSB1cGRhdGUgeW91ciBBV1MgY3JlZGVudGlhbHMuIFlvdSBjYW4gZG8gdGhpcyBieSBydW5uaW5nIGBhd3MgY29uZmlndXJlYCBvciBieSB1cGRhdGluZyB5b3VyIEFXUyBjcmVkZW50aWFscyBmaWxlLiBJZiB5b3UncmUgdXNpbmcgdGVtcG9yYXJ5IGNyZWRlbnRpYWxzLCB5b3UgbWF5IG5lZWQgdG8gb2J0YWluIG5ldyBvbmVzLlwiLFxuICAgICAgZXJyb3JOYW1lOiAnRXhwaXJlZFRva2VuRXJyb3InLFxuICAgICAgY2xhc3NpZmljYXRpb246ICdFUlJPUicsXG4gICAgfSxcbiAgICB7XG4gICAgICBlcnJvclJlZ2V4OiAvQWNjZXNzIERlbmllZC8sXG4gICAgICBodW1hblJlYWRhYmxlRXJyb3JNZXNzYWdlOlxuICAgICAgICAnVGhlIGRlcGxveW1lbnQgcm9sZSBkb2VzIG5vdCBoYXZlIHN1ZmZpY2llbnQgcGVybWlzc2lvbnMgdG8gcGVyZm9ybSB0aGlzIGRlcGxveW1lbnQuJyxcbiAgICAgIHJlc29sdXRpb25NZXNzYWdlOlxuICAgICAgICAnRW5zdXJlIHlvdXIgZGVwbG95bWVudCByb2xlIGhhcyB0aGUgQW1wbGlmeUJhY2tlbmREZXBsb3lGdWxsQWNjZXNzIHJvbGUgYWxvbmcgd2l0aCBhbnkgYWRkaXRpb25hbCBwZXJtaXNzaW9ucyByZXF1aXJlZCB0byBkZXBsb3kgeW91ciBiYWNrZW5kIGRlZmluaXRpb24uJyxcbiAgICAgIGVycm9yTmFtZTogJ0FjY2Vzc0RlbmllZEVycm9yJyxcbiAgICAgIGNsYXNzaWZpY2F0aW9uOiAnRVJST1InLFxuICAgIH0sXG4gICAge1xuICAgICAgZXJyb3JSZWdleDpcbiAgICAgICAgLyhIYXMgdGhlIGVudmlyb25tZW50IGJlZW4gYm9vdHN0cmFwcGVkKXwoSXMgYWNjb3VudCBcXGQrIGJvb3RzdHJhcHBlZCl8KElzIHRoaXMgYWNjb3VudCBib290c3RyYXBwZWQpLyxcbiAgICAgIGh1bWFuUmVhZGFibGVFcnJvck1lc3NhZ2U6XG4gICAgICAgICdUaGlzIEFXUyBhY2NvdW50IGFuZCByZWdpb24gaGFzIG5vdCBiZWVuIGJvb3RzdHJhcHBlZC4nLFxuICAgICAgcmVzb2x1dGlvbk1lc3NhZ2U6XG4gICAgICAgICdSdW4gYGNkayBib290c3RyYXAgYXdzOi8ve1lPVVJfQUNDT1VOVF9JRH0ve1lPVVJfUkVHSU9OfWAgbG9jYWxseSB0byByZXNvbHZlIHRoaXMuJyxcbiAgICAgIGVycm9yTmFtZTogJ0Jvb3RzdHJhcE5vdERldGVjdGVkRXJyb3InLFxuICAgICAgY2xhc3NpZmljYXRpb246ICdFUlJPUicsXG4gICAgfSxcbiAgICB7XG4gICAgICBlcnJvclJlZ2V4OlxuICAgICAgICAvVGhpcyBDREsgZGVwbG95bWVudCByZXF1aXJlcyBib290c3RyYXAgc3RhY2sgdmVyc2lvbiBcXFMrLCBmb3VuZCBcXFMrXFwuIFBsZWFzZSBydW4gJ2NkayBib290c3RyYXAnXFwuLyxcbiAgICAgIGh1bWFuUmVhZGFibGVFcnJvck1lc3NhZ2U6XG4gICAgICAgICdUaGlzIEFXUyBhY2NvdW50IGFuZCByZWdpb24gaGFzIG91dGRhdGVkIENESyBib290c3RyYXAgc3RhY2suJyxcbiAgICAgIHJlc29sdXRpb25NZXNzYWdlOlxuICAgICAgICAnUnVuIGBjZGsgYm9vdHN0cmFwIGF3czovL3tZT1VSX0FDQ09VTlRfSUR9L3tZT1VSX1JFR0lPTn1gIGxvY2FsbHkgdG8gcmUtYm9vdHN0cmFwLicsXG4gICAgICBlcnJvck5hbWU6ICdCb290c3RyYXBPdXRkYXRlZEVycm9yJyxcbiAgICAgIGNsYXNzaWZpY2F0aW9uOiAnRVJST1InLFxuICAgIH0sXG4gICAge1xuICAgICAgZXJyb3JSZWdleDpcbiAgICAgICAgL1RoaXMgQ0RLIGRlcGxveW1lbnQgcmVxdWlyZXMgYm9vdHN0cmFwIHN0YWNrIHZlcnNpb24gXFxTKywgYnV0IGR1cmluZyB0aGUgY29uZmlybWF0aW9uIHZpYSBTU00gcGFyYW1ldGVyIFxcUysgdGhlIGZvbGxvd2luZyBlcnJvciBvY2N1cnJlZDogQWNjZXNzRGVuaWVkRXhjZXB0aW9uLyxcbiAgICAgIGh1bWFuUmVhZGFibGVFcnJvck1lc3NhZ2U6XG4gICAgICAgICdVbmFibGUgdG8gZGV0ZWN0IENESyBib290c3RyYXAgc3RhY2sgZHVlIHRvIHBlcm1pc3Npb24gaXNzdWVzLicsXG4gICAgICByZXNvbHV0aW9uTWVzc2FnZTpcbiAgICAgICAgXCJFbnN1cmUgdGhhdCBBV1MgY3JlZGVudGlhbHMgaGF2ZSBhbiBJQU0gcG9saWN5IHRoYXQgZ3JhbnRzIHJlYWQgYWNjZXNzIHRvICdhcm46YXdzOnNzbToqOio6cGFyYW1ldGVyL2Nkay1ib290c3RyYXAvKicgU1NNIHBhcmFtZXRlcnMuXCIsXG4gICAgICBlcnJvck5hbWU6ICdCb290c3RyYXBEZXRlY3Rpb25FcnJvcicsXG4gICAgICBjbGFzc2lmaWNhdGlvbjogJ0VSUk9SJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIGVycm9yUmVnZXg6XG4gICAgICAgIC9UaGlzIENESyBDTEkgaXMgbm90IGNvbXBhdGlibGUgd2l0aCB0aGUgQ0RLIGxpYnJhcnkgdXNlZCBieSB5b3VyIGFwcGxpY2F0aW9uXFwuIFBsZWFzZSB1cGdyYWRlIHRoZSBDTEkgdG8gdGhlIGxhdGVzdCB2ZXJzaW9uXFwuLyxcbiAgICAgIGh1bWFuUmVhZGFibGVFcnJvck1lc3NhZ2U6XG4gICAgICAgIFwiSW5zdGFsbGVkICdhd3MtY2RrJyBpcyBub3QgY29tcGF0aWJsZSB3aXRoIGluc3RhbGxlZCAnYXdzLWNkay1saWInLlwiLFxuICAgICAgcmVzb2x1dGlvbk1lc3NhZ2U6XG4gICAgICAgIFwiTWFrZSBzdXJlIHRoYXQgdmVyc2lvbiBvZiAnYXdzLWNkaycgaXMgZ3JlYXRlciBvciBlcXVhbCB0byB2ZXJzaW9uIG9mICdhd3MtY2RrLWxpYidcIixcbiAgICAgIGVycm9yTmFtZTogJ0NES1ZlcnNpb25NaXNtYXRjaEVycm9yJyxcbiAgICAgIGNsYXNzaWZpY2F0aW9uOiAnRVJST1InLFxuICAgIH0sXG4gICAge1xuICAgICAgZXJyb3JSZWdleDogbmV3IFJlZ0V4cChcbiAgICAgICAgYChTeW50YXhFcnJvcnxSZWZlcmVuY2VFcnJvcnxUeXBlRXJyb3IpKCBcXFxcW1tBLVpfXStdKT86KCg/Oi58JHt0aGlzLm11bHRpTGluZUVvbFJlZ2V4fSkqP2F0IC4qKWBcbiAgICAgICksXG4gICAgICBodW1hblJlYWRhYmxlRXJyb3JNZXNzYWdlOlxuICAgICAgICAnVW5hYmxlIHRvIGJ1aWxkIHRoZSBBbXBsaWZ5IGJhY2tlbmQgZGVmaW5pdGlvbi4nLFxuICAgICAgcmVzb2x1dGlvbk1lc3NhZ2U6XG4gICAgICAgICdDaGVjayB5b3VyIGJhY2tlbmQgZGVmaW5pdGlvbiBpbiB0aGUgYGFtcGxpZnlgIGZvbGRlciBmb3Igc3ludGF4IGFuZCB0eXBlIGVycm9ycy4nLFxuICAgICAgZXJyb3JOYW1lOiAnU3ludGF4RXJyb3InLFxuICAgICAgY2xhc3NpZmljYXRpb246ICdFUlJPUicsXG4gICAgfSxcbiAgICB7XG4gICAgICBlcnJvclJlZ2V4OiAvVW5hYmxlIHRvIHJlc29sdmUgQVdTIGFjY291bnQgdG8gdXNlLyxcbiAgICAgIGh1bWFuUmVhZGFibGVFcnJvck1lc3NhZ2U6XG4gICAgICAgICdVbmFibGUgdG8gcmVzb2x2ZSBBV1MgYWNjb3VudCB0byB1c2UuIEl0IG11c3QgYmUgZWl0aGVyIGNvbmZpZ3VyZWQgd2hlbiB5b3UgZGVmaW5lIHlvdXIgQ0RLIFN0YWNrLCBvciB0aHJvdWdoIHRoZSBlbnZpcm9ubWVudCcsXG4gICAgICByZXNvbHV0aW9uTWVzc2FnZTpcbiAgICAgICAgJ1lvdSBjYW4gcmV0cnkgeW91ciBsYXN0IHJlcXVlc3QgYXMgdGhpcyBpcyBtb3N0IGxpa2VseSBhIHRyYW5zaWVudCBpc3N1ZTogaHR0cHM6Ly9naXRodWIuY29tL2F3cy9hd3MtY2RrL2lzc3Vlcy8yNDc0NC4gSWYgdGhlIGVycm9yIHBlcnNpc3RzIGVuc3VyZSB5b3VyIGxvY2FsIEFXUyBjcmVkZW50aWFscyBhcmUgdmFsaWQuJyxcbiAgICAgIGVycm9yTmFtZTogJ0NES1Jlc29sdmVBV1NBY2NvdW50RXJyb3InLFxuICAgICAgY2xhc3NpZmljYXRpb246ICdFUlJPUicsXG4gICAgfSxcbiAgICB7XG4gICAgICBlcnJvclJlZ2V4OiAvRUFDQ0VTKC4qKS8sXG4gICAgICBodW1hblJlYWRhYmxlRXJyb3JNZXNzYWdlOiAnRmlsZSBwZXJtaXNzaW9ucyBlcnJvcicsXG4gICAgICByZXNvbHV0aW9uTWVzc2FnZTpcbiAgICAgICAgJ0NoZWNrIHRoYXQgeW91IGhhdmUgdGhlIHJpZ2h0IGFjY2VzcyBwZXJtaXNzaW9ucyB0byB0aGUgbWVudGlvbmVkIGZpbGUnLFxuICAgICAgZXJyb3JOYW1lOiAnRmlsZVBlcm1pc3Npb25zRXJyb3InLFxuICAgICAgY2xhc3NpZmljYXRpb246ICdFUlJPUicsXG4gICAgfSxcbiAgICB7XG4gICAgICBlcnJvclJlZ2V4OiBuZXcgUmVnRXhwKFxuICAgICAgICBgXFxcXFtFUlJfTU9EVUxFX05PVF9GT1VORFxcXFxdOiguKikke3RoaXMubXVsdGlMaW5lRW9sUmVnZXh9fEVycm9yOiBDYW5ub3QgZmluZCBtb2R1bGUgKC4qKWBcbiAgICAgICksXG4gICAgICBodW1hblJlYWRhYmxlRXJyb3JNZXNzYWdlOiAnQ2Fubm90IGZpbmQgbW9kdWxlJyxcbiAgICAgIHJlc29sdXRpb25NZXNzYWdlOlxuICAgICAgICAnQ2hlY2sgeW91ciBiYWNrZW5kIGRlZmluaXRpb24gaW4gdGhlIGBhbXBsaWZ5YCBmb2xkZXIgZm9yIG1pc3NpbmcgZmlsZSBvciBwYWNrYWdlIGltcG9ydHMuIFRyeSBpbnN0YWxsaW5nIHRoZW0gd2l0aCB5b3VyIHBhY2thZ2UgbWFuYWdlci4nLFxuICAgICAgZXJyb3JOYW1lOiAnTW9kdWxlTm90Rm91bmRFcnJvcicsXG4gICAgICBjbGFzc2lmaWNhdGlvbjogJ0VSUk9SJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIC8vIFRydW5jYXRlIHRoZSBjZGsgZXJyb3IgbWVzc2FnZSdzIHNlY29uZCBsaW5lIChJbnZva2UgdGhlIENMSSBpbiBzZXF1ZW5jZSwgb3IgdXNlICctLW91dHB1dCcgdG8gc3ludGggaW50byBkaWZmZXJlbnQgZGlyZWN0b3JpZXMuKVxuICAgICAgZXJyb3JSZWdleDpcbiAgICAgICAgL0Fub3RoZXIgQ0xJICguKikgaXMgY3VycmVudGx5KC4qKVxcLiB8T3RoZXIgQ0xJcyAoLiopIGFyZSBjdXJyZW50bHkgcmVhZGluZyBmcm9tKC4qKVxcLiAvLFxuICAgICAgaHVtYW5SZWFkYWJsZUVycm9yTWVzc2FnZTogJ011bHRpcGxlIHNhbmRib3ggaW5zdGFuY2VzIGRldGVjdGVkLicsXG4gICAgICByZXNvbHV0aW9uTWVzc2FnZTpcbiAgICAgICAgJ01ha2Ugc3VyZSBvbmx5IG9uZSBpbnN0YW5jZSBvZiBzYW5kYm94IGlzIHJ1bm5pbmcgZm9yIHRoaXMgcHJvamVjdCcsXG4gICAgICBlcnJvck5hbWU6ICdNdWx0aXBsZVNhbmRib3hJbnN0YW5jZXNFcnJvcicsXG4gICAgICBjbGFzc2lmaWNhdGlvbjogJ0VSUk9SJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIGVycm9yUmVnZXg6XG4gICAgICAgIC9Vc2VyOiguKikgaXMgbm90IGF1dGhvcml6ZWQgdG8gcGVyZm9ybTogbGFtYmRhOkdldExheWVyVmVyc2lvbiBvbiByZXNvdXJjZTooLiopIGJlY2F1c2Ugbm8gcmVzb3VyY2UtYmFzZWQgcG9saWN5IGFsbG93cyB0aGUgbGFtYmRhOkdldExheWVyVmVyc2lvbiBhY3Rpb24vLFxuICAgICAgaHVtYW5SZWFkYWJsZUVycm9yTWVzc2FnZTogJ1VuYWJsZSB0byBnZXQgTGFtYmRhIGxheWVyIHZlcnNpb24nLFxuICAgICAgcmVzb2x1dGlvbk1lc3NhZ2U6XG4gICAgICAgICdNYWtlIHN1cmUgbGF5ZXIgQVJOcyBhcmUgY29ycmVjdCBhbmQgbGF5ZXIgcmVnaW9ucyBtYXRjaCBmdW5jdGlvbiByZWdpb24nLFxuICAgICAgZXJyb3JOYW1lOiAnR2V0TGFtYmRhTGF5ZXJWZXJzaW9uRXJyb3InLFxuICAgICAgY2xhc3NpZmljYXRpb246ICdFUlJPUicsXG4gICAgfSxcbiAgICB7XG4gICAgICAvL1RoaXMgaGFzIHNvbWUgb3ZlcmxhcCB3aXRoIFwiVXNlcjpfXyBpcyBub3QgYXV0aG9yaXplZCB0byBwZXJmb3JtOl9fIG9uIHJlc291cmNlOiBfX1wiIC0gc29tZSByZXNvdXJjZXMgY2Fubm90IGJlIGRlbGV0ZWQgZHVlIHRvIGxhY2sgb2YgcGVybWlzc2lvbnNcbiAgICAgIGVycm9yUmVnZXg6XG4gICAgICAgIC9UaGUgc3RhY2sgbmFtZWQgKD88c3RhY2tOYW1lPi4qKSBpcyBpbiBhIGZhaWxlZCBzdGF0ZS4gWW91IG1heSBuZWVkIHRvIGRlbGV0ZSBpdCBmcm9tIHRoZSBBV1MgY29uc29sZSA6IERFTEVURV9GQUlMRUQgXFwoVGhlIGZvbGxvd2luZyByZXNvdXJjZVxcKHNcXCkgZmFpbGVkIHRvIGRlbGV0ZTogKD88cmVzb3VyY2VzPi4qKS4gXFwpLyxcbiAgICAgIGh1bWFuUmVhZGFibGVFcnJvck1lc3NhZ2U6XG4gICAgICAgICdUaGUgQ2xvdWRGb3JtYXRpb24gZGVsZXRpb24gZmFpbGVkIGR1ZSB0byB7c3RhY2tOYW1lfSBiZWluZyBpbiBERUxFVEVfRkFJTEVEIHN0YXRlLiBFbnN1cmUgYWxsIHlvdXIgcmVzb3VyY2VzIGFyZSBhYmxlIHRvIGJlIGRlbGV0ZWQnLFxuICAgICAgcmVzb2x1dGlvbk1lc3NhZ2U6XG4gICAgICAgICdUaGUgZm9sbG93aW5nIHJlc291cmNlKHMpIGZhaWxlZCB0byBkZWxldGU6IHtyZXNvdXJjZXN9LiBFbnN1cmUgdGhleSBhcmUgaW4gYSBzdGF0ZSB3aGVyZSB0aGV5IGNhbiBiZSBkZWxldGVkLiBGaW5kIG1vcmUgaW5mb3JtYXRpb24gaW4gdGhlIENsb3VkRm9ybWF0aW9uIEFXUyBDb25zb2xlIGZvciB0aGlzIHN0YWNrLicsXG4gICAgICBlcnJvck5hbWU6ICdDbG91ZEZvcm1hdGlvbkRlbGV0aW9uRXJyb3InLFxuICAgICAgY2xhc3NpZmljYXRpb246ICdFUlJPUicsXG4gICAgfSxcbiAgICB7XG4gICAgICBlcnJvclJlZ2V4OlxuICAgICAgICAvVXNlcjooLiopIGlzIG5vdCBhdXRob3JpemVkIHRvIHBlcmZvcm06KC4qKSBvbiByZXNvdXJjZTooPzxyZXNvdXJjZT4uKikgYmVjYXVzZSBubyBpZGVudGl0eS1iYXNlZCBwb2xpY3kgYWxsb3dzIHRoZSAoPzxhY3Rpb24+LiopIGFjdGlvbi8sXG4gICAgICBodW1hblJlYWRhYmxlRXJyb3JNZXNzYWdlOlxuICAgICAgICAnVW5hYmxlIHRvIGRlcGxveSBkdWUgdG8gaW5zdWZmaWNpZW50IHBlcm1pc3Npb25zJyxcbiAgICAgIHJlc29sdXRpb25NZXNzYWdlOlxuICAgICAgICAnRW5zdXJlIHlvdSBoYXZlIHBlcm1pc3Npb25zIHRvIGNhbGwge2FjdGlvbn0gZm9yIHtyZXNvdXJjZX0nLFxuICAgICAgZXJyb3JOYW1lOiAnQWNjZXNzRGVuaWVkRXJyb3InLFxuICAgICAgY2xhc3NpZmljYXRpb246ICdFUlJPUicsXG4gICAgfSxcbiAgICB7XG4gICAgICBlcnJvclJlZ2V4OlxuICAgICAgICAvVXNlcjooLiopIGlzIG5vdCBhdXRob3JpemVkIHRvIHBlcmZvcm06KD88YWN0aW9uPi4qKSBvbiByZXNvdXJjZTooPzxyZXNvdXJjZT4uKikvLFxuICAgICAgaHVtYW5SZWFkYWJsZUVycm9yTWVzc2FnZTpcbiAgICAgICAgJ1VuYWJsZSB0byBkZXBsb3kgZHVlIHRvIGluc3VmZmljaWVudCBwZXJtaXNzaW9ucycsXG4gICAgICByZXNvbHV0aW9uTWVzc2FnZTpcbiAgICAgICAgJ0Vuc3VyZSB5b3UgaGF2ZSBwZXJtaXNzaW9ucyB0byBjYWxsIHthY3Rpb259IGZvciB7cmVzb3VyY2V9JyxcbiAgICAgIGVycm9yTmFtZTogJ0FjY2Vzc0RlbmllZEVycm9yJyxcbiAgICAgIGNsYXNzaWZpY2F0aW9uOiAnRVJST1InLFxuICAgIH0sXG4gICAge1xuICAgICAgLy8gQWxzbyBleHRyYWN0cyB0aGUgZmlyc3QgbGluZSBpbiB0aGUgc3RhY2sgd2hlcmUgdGhlIGVycm9yIGhhcHBlbmVkXG4gICAgICBlcnJvclJlZ2V4OiBuZXcgUmVnRXhwKFxuICAgICAgICBgXFxcXFtlc2J1aWxkIEVycm9yXFxcXF06ICgoPzoufCR7dGhpcy5tdWx0aUxpbmVFb2xSZWdleH0pKj9hdCAuKilgXG4gICAgICApLFxuICAgICAgaHVtYW5SZWFkYWJsZUVycm9yTWVzc2FnZTpcbiAgICAgICAgJ1VuYWJsZSB0byBidWlsZCB0aGUgQW1wbGlmeSBiYWNrZW5kIGRlZmluaXRpb24uJyxcbiAgICAgIHJlc29sdXRpb25NZXNzYWdlOlxuICAgICAgICAnQ2hlY2sgeW91ciBiYWNrZW5kIGRlZmluaXRpb24gaW4gdGhlIGBhbXBsaWZ5YCBmb2xkZXIgZm9yIHN5bnRheCBhbmQgdHlwZSBlcnJvcnMuJyxcbiAgICAgIGVycm9yTmFtZTogJ0VTQnVpbGRFcnJvcicsXG4gICAgICBjbGFzc2lmaWNhdGlvbjogJ0VSUk9SJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIC8vIEFsc28gZXh0cmFjdHMgdGhlIGZpcnN0IGxpbmUgaW4gdGhlIHN0YWNrIHdoZXJlIHRoZSBlcnJvciBoYXBwZW5lZFxuICAgICAgZXJyb3JSZWdleDogbmV3IFJlZ0V4cChcbiAgICAgICAgYFvinJhYXSBcXFxcW0VSUk9SXFxcXF0gKCg/Oi58JHt0aGlzLm11bHRpTGluZUVvbFJlZ2V4fSkqZXJyb3IuKilgXG4gICAgICApLFxuICAgICAgaHVtYW5SZWFkYWJsZUVycm9yTWVzc2FnZTpcbiAgICAgICAgJ1VuYWJsZSB0byBidWlsZCB0aGUgQW1wbGlmeSBiYWNrZW5kIGRlZmluaXRpb24uJyxcbiAgICAgIHJlc29sdXRpb25NZXNzYWdlOlxuICAgICAgICAnQ2hlY2sgeW91ciBiYWNrZW5kIGRlZmluaXRpb24gaW4gdGhlIGBhbXBsaWZ5YCBmb2xkZXIgZm9yIHN5bnRheCBhbmQgdHlwZSBlcnJvcnMuJyxcbiAgICAgIGVycm9yTmFtZTogJ0VTQnVpbGRFcnJvcicsXG4gICAgICBjbGFzc2lmaWNhdGlvbjogJ0VSUk9SJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIC8vIElmIHRoZXJlIGFyZSBtdWx0aXBsZSBlcnJvcnMsIGNhcHR1cmUgYWxsIGxpbmVzIGNvbnRhaW5pbmcgdGhlIGVycm9yc1xuICAgICAgZXJyb3JSZWdleDogbmV3IFJlZ0V4cChcbiAgICAgICAgYChcXFxcW1RyYW5zZm9ybUVycm9yXFxcXF18RXJyb3IpOiBUcmFuc2Zvcm0gZmFpbGVkIHdpdGggLiogZXJyb3Iocz8pOiR7dGhpcy5tdWx0aUxpbmVFb2xSZWdleH0oPzxlc0J1aWxkRXJyb3JNZXNzYWdlPiguKkVSUk9SOi4qJHt0aGlzLm11bHRpTGluZUVvbFJlZ2V4fSkrKWBcbiAgICAgICksXG4gICAgICBodW1hblJlYWRhYmxlRXJyb3JNZXNzYWdlOiAne2VzQnVpbGRFcnJvck1lc3NhZ2V9JyxcbiAgICAgIHJlc29sdXRpb25NZXNzYWdlOlxuICAgICAgICAnRml4IHRoZSBhYm92ZSBtZW50aW9uZWQgdHlwZSBvciBzeW50YXggZXJyb3IgaW4geW91ciBiYWNrZW5kIGRlZmluaXRpb24uJyxcbiAgICAgIGVycm9yTmFtZTogJ0VTQnVpbGRFcnJvcicsXG4gICAgICBjbGFzc2lmaWNhdGlvbjogJ0VSUk9SJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIC8vIENhcHR1cmVzIG90aGVyIGZvcm1zIG9mIHRyYW5zZm9ybSBlcnJvclxuICAgICAgZXJyb3JSZWdleDogbmV3IFJlZ0V4cChcbiAgICAgICAgYEVycm9yIFxcXFxbVHJhbnNmb3JtRXJyb3JcXFxcXTooJHt0aGlzLm11bHRpTGluZUVvbFJlZ2V4fXxcXFxccyk/KD88ZXNCdWlsZEVycm9yTWVzc2FnZT4oLiooJHt0aGlzLm11bHRpTGluZUVvbFJlZ2V4fSk/KSspYFxuICAgICAgKSxcbiAgICAgIGh1bWFuUmVhZGFibGVFcnJvck1lc3NhZ2U6ICd7ZXNCdWlsZEVycm9yTWVzc2FnZX0nLFxuICAgICAgcmVzb2x1dGlvbk1lc3NhZ2U6XG4gICAgICAgICdNYWtlIHN1cmUgZXNidWlsZCBpcyBpbnN0YWxsZWQgYW5kIGlzIGNvbXBhdGlibGUgd2l0aCB0aGUgcGxhdGZvcm0geW91IGFyZSBjdXJyZW50bHkgdXNpbmcuJyxcbiAgICAgIGVycm9yTmFtZTogJ0VTQnVpbGRFcnJvcicsXG4gICAgICBjbGFzc2lmaWNhdGlvbjogJ0VSUk9SJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIGVycm9yUmVnZXg6IC9BbXBsaWZ5IEJhY2tlbmQgbm90IGZvdW5kIGluLyxcbiAgICAgIGh1bWFuUmVhZGFibGVFcnJvck1lc3NhZ2U6XG4gICAgICAgICdCYWNrZW5kIGRlZmluaXRpb24gY291bGQgbm90IGJlIGZvdW5kIGluIGFtcGxpZnkgZGlyZWN0b3J5LicsXG4gICAgICByZXNvbHV0aW9uTWVzc2FnZTogJ0Vuc3VyZSB0aGF0IHRoZSBhbXBsaWZ5L2JhY2tlbmQuKHRzfGpzKSBmaWxlIGV4aXN0cycsXG4gICAgICBlcnJvck5hbWU6ICdGaWxlQ29udmVudGlvbkVycm9yJyxcbiAgICAgIGNsYXNzaWZpY2F0aW9uOiAnRVJST1InLFxuICAgIH0sXG4gICAge1xuICAgICAgZXJyb3JSZWdleDogL0FtcGxpZnkgKC4qKSBtdXN0IGJlIGRlZmluZWQgaW4gKC4qKS8sXG4gICAgICBodW1hblJlYWRhYmxlRXJyb3JNZXNzYWdlOlxuICAgICAgICAnRmlsZSBuYW1lIG9yIHBhdGggZm9yIGJhY2tlbmQgZGVmaW5pdGlvbiBhcmUgaW5jb3JyZWN0LicsXG4gICAgICByZXNvbHV0aW9uTWVzc2FnZTogJ0Vuc3VyZSB0aGF0IHRoZSBhbXBsaWZ5L2JhY2tlbmQuKHRzfGpzKSBmaWxlIGV4aXN0cycsXG4gICAgICBlcnJvck5hbWU6ICdGaWxlQ29udmVudGlvbkVycm9yJyxcbiAgICAgIGNsYXNzaWZpY2F0aW9uOiAnRVJST1InLFxuICAgIH0sXG4gICAge1xuICAgICAgZXJyb3JSZWdleDogL1VwZGF0ZXMgYXJlIG5vdCBhbGxvd2VkIGZvciBwcm9wZXJ0eS8sXG4gICAgICBodW1hblJlYWRhYmxlRXJyb3JNZXNzYWdlOlxuICAgICAgICAnVGhlIGNoYW5nZXMgdGhhdCB5b3UgYXJlIHRyeWluZyB0byBhcHBseSBhcmUgbm90IHN1cHBvcnRlZC4nLFxuICAgICAgcmVzb2x1dGlvbk1lc3NhZ2U6XG4gICAgICAgICdUaGUgcmVzb3VyY2VzIHJlZmVyZW5jZWQgaW4gdGhlIGVycm9yIG1lc3NhZ2UgbXVzdCBiZSBkZWxldGVkIGFuZCByZWNyZWF0ZWQgdG8gYXBwbHkgdGhlIGNoYW5nZXMuJyxcbiAgICAgIGVycm9yTmFtZTogJ0NGTlVwZGF0ZU5vdFN1cHBvcnRlZEVycm9yJyxcbiAgICAgIGNsYXNzaWZpY2F0aW9uOiAnRVJST1InLFxuICAgIH0sXG4gICAge1xuICAgICAgLy8gVGhpcyBlcnJvciBvcmlnaW5hdGVzIGZyb20gQ29nbml0byBzZXJ2aWNlIHdoZW4gdXNlciB0cmllcyB0byBjaGFuZ2UgVXNlclBvb2wgYXR0cmlidXRlcyB3aGljaCBpcyBub3QgYWxsb3dlZFxuICAgICAgLy8gaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL2NvZ25pdG8vbGF0ZXN0L2RldmVsb3Blcmd1aWRlL3VzZXItcG9vbC1zZXR0aW5ncy1hdHRyaWJ1dGVzLmh0bWxcbiAgICAgIC8vIFJlbWFwcGluZyB0byBgVXBkYXRlTm90U3VwcG9ydGVkYCB3aWxsIGFsbG93IHNhbmRib3ggdG8gcHJvbXB0IHVzZXJzIGZvciByZXNldHRpbmcgdGhlaXIgZW52aXJvbm1lbnRcbiAgICAgIGVycm9yUmVnZXg6XG4gICAgICAgIC9JbnZhbGlkIEF0dHJpYnV0ZURhdGFUeXBlIGlucHV0LCBjb25zaWRlciB1c2luZyB0aGUgcHJvdmlkZWQgQXR0cmlidXRlRGF0YVR5cGUgZW51bS8sXG4gICAgICBodW1hblJlYWRhYmxlRXJyb3JNZXNzYWdlOlxuICAgICAgICAnVXNlciBwb29sIGF0dHJpYnV0ZXMgY2Fubm90IGJlIGNoYW5nZWQgYWZ0ZXIgYSB1c2VyIHBvb2wgaGFzIGJlZW4gY3JlYXRlZC4nLFxuICAgICAgcmVzb2x1dGlvbk1lc3NhZ2U6XG4gICAgICAgICdUbyBjaGFuZ2UgdGhlc2UgYXR0cmlidXRlcywgcmVtb3ZlIGBkZWZpbmVBdXRoYCBmcm9tIHlvdXIgYmFja2VuZCwgZGVwbG95LCB0aGVuIGFkZCBpdCBiYWNrLiBOb3RlIHRoYXQgcmVtb3ZpbmcgYGRlZmluZUF1dGhgIGFuZCBkZXBsb3lpbmcgd2lsbCBkZWxldGUgYW55IHVzZXJzIHN0b3JlZCBpbiB5b3VyIFVzZXJQb29sLicsXG4gICAgICBlcnJvck5hbWU6ICdDRk5VcGRhdGVOb3RTdXBwb3J0ZWRFcnJvcicsXG4gICAgICBjbGFzc2lmaWNhdGlvbjogJ0VSUk9SJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIGVycm9yUmVnZXg6IG5ldyBSZWdFeHAoXG4gICAgICAgIGBucG0gZXJyb3IgY29kZSBFSlNPTlBBUlNFJHt0aGlzLm11bHRpTGluZUVvbFJlZ2V4fW5wbSBlcnJvciBwYXRoICg/PGZpbGVQYXRoPi4qL3BhY2thZ2VcXFxcLmpzb24pJHt0aGlzLm11bHRpTGluZUVvbFJlZ2V4fShucG0gZXJyb3IgKC4qKSR7dGhpcy5tdWx0aUxpbmVFb2xSZWdleH0pKmBcbiAgICAgICksXG4gICAgICBodW1hblJlYWRhYmxlRXJyb3JNZXNzYWdlOiAnVGhlIHtmaWxlUGF0aH0gaXMgbm90IGEgdmFsaWQgSlNPTi4nLFxuICAgICAgcmVzb2x1dGlvbk1lc3NhZ2U6IGBDaGVjayBwYWNrYWdlLmpzb24gZmlsZSBhbmQgbWFrZSBzdXJlIGl0IGlzIGEgdmFsaWQgSlNPTi5gLFxuICAgICAgZXJyb3JOYW1lOiAnSW52YWxpZFBhY2thZ2VKc29uRXJyb3InLFxuICAgICAgY2xhc3NpZmljYXRpb246ICdFUlJPUicsXG4gICAgfSxcbiAgICB7XG4gICAgICBlcnJvclJlZ2V4OiBuZXcgUmVnRXhwKFxuICAgICAgICBgKD88bnBtRXJyb3I+KG5wbSBlcnJvcnxucG0gRVJSISkgY29kZSBFTk9FTlQke3RoaXMubXVsdGlMaW5lRW9sUmVnZXh9KChucG0gZXJyb3J8bnBtIEVSUiEpICguKikke3RoaXMubXVsdGlMaW5lRW9sUmVnZXh9KSopYFxuICAgICAgKSxcbiAgICAgIGh1bWFuUmVhZGFibGVFcnJvck1lc3NhZ2U6ICdOUE0gZXJyb3Igb2NjdXJyZWQ6IHtucG1FcnJvcn0nLFxuICAgICAgcmVzb2x1dGlvbk1lc3NhZ2U6IGBTZWUgaHR0cHM6Ly9kb2NzLm5wbWpzLmNvbS9jb21tb24tZXJyb3JzIGZvciByZXNvbHV0aW9uLmAsXG4gICAgICBlcnJvck5hbWU6ICdDb21tb25OUE1FcnJvcicsXG4gICAgICBjbGFzc2lmaWNhdGlvbjogJ0VSUk9SJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIC8vIEVycm9yOiAuKiBpcyBwcmludGVkIHRvIHN0ZGVyciBkdXJpbmcgY2RrIHN5bnRoXG4gICAgICAvLyBBbHNvIGV4dHJhY3RzIHRoZSBmaXJzdCBsaW5lIGluIHRoZSBzdGFjayB3aGVyZSB0aGUgZXJyb3IgaGFwcGVuZWRcbiAgICAgIGVycm9yUmVnZXg6IG5ldyBSZWdFeHAoXG4gICAgICAgIGBeRXJyb3I6ICguKiR7dGhpcy5tdWx0aUxpbmVFb2xSZWdleH0uKmF0LiopYCxcbiAgICAgICAgJ20nXG4gICAgICApLFxuICAgICAgaHVtYW5SZWFkYWJsZUVycm9yTWVzc2FnZTpcbiAgICAgICAgJ1VuYWJsZSB0byBidWlsZCB0aGUgQW1wbGlmeSBiYWNrZW5kIGRlZmluaXRpb24uJyxcbiAgICAgIHJlc29sdXRpb25NZXNzYWdlOlxuICAgICAgICAnQ2hlY2sgeW91ciBiYWNrZW5kIGRlZmluaXRpb24gaW4gdGhlIGBhbXBsaWZ5YCBmb2xkZXIgZm9yIHN5bnRheCBhbmQgdHlwZSBlcnJvcnMuJyxcbiAgICAgIGVycm9yTmFtZTogJ0JhY2tlbmRTeW50aEVycm9yJyxcbiAgICAgIGNsYXNzaWZpY2F0aW9uOiAnRVJST1InLFxuICAgIH0sXG4gICAge1xuICAgICAgLy8gVGhpcyBoYXBwZW5zIHdoZW4gJ2RlZmluZUJhY2tlbmQnIGNhbGwgaXMgbWlzc2luZyBpbiBjdXN0b21lcidzIGFwcC5cbiAgICAgIC8vICdkZWZpbmVCYWNrZW5kJyBjcmVhdGVzIENESyBhcHAgaW4gbWVtb3J5LiBJZiBpdCdzIG1pc3NpbmcgdGhlbiBubyBjZGsuQXBwIGV4aXN0cyBpbiBtZW1vcnkgYW5kIG5vdGhpbmcgaXMgcmVuZGVyZWQuXG4gICAgICAvLyBEdXJpbmcgJ2NkayBzeW50aCcgQ0RLIENMSSBhdHRlbXB0cyB0byByZWFkIENESyBhc3NlbWJseSBhZnRlciBjYWxsaW5nIGN1c3RvbWVyJ3MgYXBwLlxuICAgICAgLy8gQnV0IG5vIGZpbGVzIGFyZSByZW5kZXJlZCBjYXVzaW5nIGl0IHRvIGZhaWwuXG4gICAgICBlcnJvclJlZ2V4OlxuICAgICAgICAvRU5PRU5UOiBubyBzdWNoIGZpbGUgb3IgZGlyZWN0b3J5LCBvcGVuICdcXC5hbXBsaWZ5LmFydGlmYWN0cy5jZGtcXC5vdXQubWFuaWZlc3RcXC5qc29uJy8sXG4gICAgICBodW1hblJlYWRhYmxlRXJyb3JNZXNzYWdlOlxuICAgICAgICAnVGhlIEFtcGxpZnkgYmFja2VuZCBkZWZpbml0aW9uIGlzIG1pc3NpbmcgYGRlZmluZUJhY2tlbmRgIGNhbGwuJyxcbiAgICAgIHJlc29sdXRpb25NZXNzYWdlOlxuICAgICAgICAnQ2hlY2sgeW91ciBiYWNrZW5kIGRlZmluaXRpb24gaW4gdGhlIGBhbXBsaWZ5YCBmb2xkZXIuIEVuc3VyZSB0aGF0IGBhbXBsaWZ5L2JhY2tlbmQudHNgIGNvbnRhaW5zIGBkZWZpbmVCYWNrZW5kYCBjYWxsLicsXG4gICAgICBlcnJvck5hbWU6ICdNaXNzaW5nRGVmaW5lQmFja2VuZEVycm9yJyxcbiAgICAgIGNsYXNzaWZpY2F0aW9uOiAnRVJST1InLFxuICAgIH0sXG4gICAge1xuICAgICAgLy8gXCJDYXRjaCBhbGxcIjogdGhlIGJhY2tlbmQgZW50cnkgcG9pbnQgZmlsZSBpcyByZWZlcmVuY2VkIGluIHRoZSBzdGFjayBpbmRpY2F0aW5nIGEgcHJvYmxlbSBpbiBjdXN0b21lciBjb2RlXG4gICAgICBlcnJvclJlZ2V4OiAvYW1wbGlmeVxcL2JhY2tlbmQvLFxuICAgICAgaHVtYW5SZWFkYWJsZUVycm9yTWVzc2FnZTogJ1VuYWJsZSB0byBidWlsZCBBbXBsaWZ5IGJhY2tlbmQuJyxcbiAgICAgIHJlc29sdXRpb25NZXNzYWdlOlxuICAgICAgICAnQ2hlY2sgeW91ciBiYWNrZW5kIGRlZmluaXRpb24gaW4gdGhlIGBhbXBsaWZ5YCBmb2xkZXIgZm9yIHN5bnRheCBhbmQgdHlwZSBlcnJvcnMuJyxcbiAgICAgIGVycm9yTmFtZTogJ0JhY2tlbmRCdWlsZEVycm9yJyxcbiAgICAgIGNsYXNzaWZpY2F0aW9uOiAnRVJST1InLFxuICAgIH0sXG4gICAge1xuICAgICAgLy8gV2UgY2FwdHVyZSB0aGUgcGFyYW1ldGVyIG5hbWUgdG8gc2hvdyByZWxldmFudCBlcnJvciBtZXNzYWdlXG4gICAgICBlcnJvclJlZ2V4OlxuICAgICAgICAvRmFpbGVkIHRvIHJldHJpZXZlIGJhY2tlbmQgc2VjcmV0ICg/PHNlY3JldE5hbWU+LiopIGZvci4qUGFyYW1ldGVyTm90Rm91bmQvLFxuICAgICAgaHVtYW5SZWFkYWJsZUVycm9yTWVzc2FnZTogYFRoZSBzZWNyZXQge3NlY3JldE5hbWV9IHNwZWNpZmllZCBpbiB0aGUgYmFja2VuZCBkb2VzIG5vdCBleGlzdC5gLFxuICAgICAgcmVzb2x1dGlvbk1lc3NhZ2U6IGBDcmVhdGUgc2VjcmV0cyB1c2luZyB0aGUgY29tbWFuZCAke3RoaXMuZm9ybWF0dGVyLm5vcm1hbGl6ZUFtcHhDb21tYW5kKFxuICAgICAgICAnc2FuZGJveCBzZWNyZXQgc2V0J1xuICAgICAgKX0uIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWUgaHR0cHM6Ly9kb2NzLmFtcGxpZnkuYXdzL2dlbjIvZGVwbG95LWFuZC1ob3N0L3NhbmRib3gtZW52aXJvbm1lbnRzL2ZlYXR1cmVzLyNzZXQtc2VjcmV0c2AsXG4gICAgICBlcnJvck5hbWU6ICdTZWNyZXROb3RTZXRFcnJvcicsXG4gICAgICBjbGFzc2lmaWNhdGlvbjogJ0VSUk9SJyxcbiAgICB9LFxuICAgIHtcbiAgICAgIGVycm9yUmVnZXg6XG4gICAgICAgIC9CYWRSZXF1ZXN0RXhjZXB0aW9uOiBUaGUgY29kZSBjb250YWlucyBvbmUgb3IgbW9yZSBlcnJvcnN8VGhlIGNvZGUgY29udGFpbnMgb25lIG9yIG1vcmUgZXJyb3JzLipBcHBTeW5jLyxcbiAgICAgIGh1bWFuUmVhZGFibGVFcnJvck1lc3NhZ2U6IGBBIGN1c3RvbSByZXNvbHZlciB1c2VkIGluIHlvdXIgZGVmaW5lRGF0YSBjb250YWlucyBvbmUgb3IgbW9yZSBlcnJvcnNgLFxuICAgICAgcmVzb2x1dGlvbk1lc3NhZ2U6IGBDaGVjayBmb3IgYW55IHN5bnRheCBlcnJvcnMgaW4geW91ciBjdXN0b20gcmVzb2x2ZXJzIGNvZGUuYCxcbiAgICAgIGVycm9yTmFtZTogJ0FwcFN5bmNSZXNvbHZlclN5bnRheEVycm9yJyxcbiAgICAgIGNsYXNzaWZpY2F0aW9uOiAnRVJST1InLFxuICAgIH0sXG4gICAgLy8gR2VuZXJpYyBlcnJvciBwcmludGVkIGJ5IENESy4gT3JkZXIgbWF0dGVycyBzbyBrZWVwIHRoaXMgdG93YXJkcyB0aGUgYm90dG9tIG9mIHRoaXMgbGlzdFxuICAgIHtcbiAgICAgIC8vIEVycm9yOiAuKiBpcyBwcmludGVkIHRvIHN0ZGVyciBkdXJpbmcgY2RrIHN5bnRoXG4gICAgICAvLyBBbHNvIGV4dHJhY3RzIHRoZSBmaXJzdCBsaW5lIGluIHRoZSBzdGFjayB3aGVyZSB0aGUgZXJyb3IgaGFwcGVuZWRcbiAgICAgIGVycm9yUmVnZXg6IG5ldyBSZWdFeHAoXG4gICAgICAgIGBeRXJyb3I6ICguKiR7dGhpcy5tdWx0aUxpbmVFb2xSZWdleH0uKmF0LiopYCxcbiAgICAgICAgJ20nXG4gICAgICApLFxuICAgICAgaHVtYW5SZWFkYWJsZUVycm9yTWVzc2FnZTpcbiAgICAgICAgJ1VuYWJsZSB0byBidWlsZCB0aGUgQW1wbGlmeSBiYWNrZW5kIGRlZmluaXRpb24uJyxcbiAgICAgIHJlc29sdXRpb25NZXNzYWdlOlxuICAgICAgICAnQ2hlY2sgeW91ciBiYWNrZW5kIGRlZmluaXRpb24gaW4gdGhlIGBhbXBsaWZ5YCBmb2xkZXIgZm9yIHN5bnRheCBhbmQgdHlwZSBlcnJvcnMuJyxcbiAgICAgIGVycm9yTmFtZTogJ0JhY2tlbmRTeW50aEVycm9yJyxcbiAgICAgIGNsYXNzaWZpY2F0aW9uOiAnRVJST1InLFxuICAgIH0sXG4gICAge1xuICAgICAgZXJyb3JSZWdleDpcbiAgICAgICAgLyg/PHN0YWNrTmFtZT5hbXBsaWZ5LVthLXowLTktXSspKC4qKSBmYWlsZWQ6IFZhbGlkYXRpb25FcnJvcjogU3RhY2s6KC4qKSBpcyBpbiAoPzxzdGF0ZT4uKikgc3RhdGUgYW5kIGNhbiBub3QgYmUgdXBkYXRlZC8sXG4gICAgICBodW1hblJlYWRhYmxlRXJyb3JNZXNzYWdlOlxuICAgICAgICAnVGhlIENsb3VkRm9ybWF0aW9uIGRlcGxveW1lbnQgZmFpbGVkIGR1ZSB0byB7c3RhY2tOYW1lfSBiZWluZyBpbiB7c3RhdGV9IHN0YXRlLicsXG4gICAgICByZXNvbHV0aW9uTWVzc2FnZTpcbiAgICAgICAgJ0ZpbmQgbW9yZSBpbmZvcm1hdGlvbiBpbiB0aGUgQ2xvdWRGb3JtYXRpb24gQVdTIENvbnNvbGUgZm9yIHRoaXMgc3RhY2suJyxcbiAgICAgIGVycm9yTmFtZTogJ0Nsb3VkRm9ybWF0aW9uRGVwbG95bWVudEVycm9yJyxcbiAgICAgIGNsYXNzaWZpY2F0aW9uOiAnRVJST1InLFxuICAgIH0sXG4gICAge1xuICAgICAgLy8gTm90ZSB0aGF0IHRoZSBvcmRlciBtYXR0ZXJzLCB0aGlzIHNob3VsZCBiZSB0aGUgbGFzdCBhcyBpdCBjYXB0dXJlcyBnZW5lcmljIENGTiBlcnJvclxuICAgICAgZXJyb3JSZWdleDogbmV3IFJlZ0V4cChcbiAgICAgICAgYERlcGxveW1lbnQgZmFpbGVkOiAoLiopJHt0aGlzLm11bHRpTGluZUVvbFJlZ2V4fXxUaGUgc3RhY2sgbmFtZWQgKC4qKSBmYWlsZWQgKHRvIGRlcGxveTp8Y3JlYXRpb24sKSAoLiopYFxuICAgICAgKSxcbiAgICAgIGh1bWFuUmVhZGFibGVFcnJvck1lc3NhZ2U6ICdUaGUgQ2xvdWRGb3JtYXRpb24gZGVwbG95bWVudCBoYXMgZmFpbGVkLicsXG4gICAgICByZXNvbHV0aW9uTWVzc2FnZTpcbiAgICAgICAgJ0ZpbmQgbW9yZSBpbmZvcm1hdGlvbiBpbiB0aGUgQ2xvdWRGb3JtYXRpb24gQVdTIENvbnNvbGUgZm9yIHRoaXMgc3RhY2suJyxcbiAgICAgIGVycm9yTmFtZTogJ0Nsb3VkRm9ybWF0aW9uRGVwbG95bWVudEVycm9yJyxcbiAgICAgIGNsYXNzaWZpY2F0aW9uOiAnRVJST1InLFxuICAgIH0sXG4gIF07XG59XG5cbmV4cG9ydCB0eXBlIENES0RlcGxveW1lbnRFcnJvciA9XG4gIHwgJ0FjY2Vzc0RlbmllZEVycm9yJ1xuICB8ICdBcHBTeW5jUmVzb2x2ZXJTeW50YXhFcnJvcidcbiAgfCAnQmFja2VuZEJ1aWxkRXJyb3InXG4gIHwgJ0JhY2tlbmRTeW50aEVycm9yJ1xuICB8ICdCb290c3RyYXBOb3REZXRlY3RlZEVycm9yJ1xuICB8ICdCb290c3RyYXBEZXRlY3Rpb25FcnJvcidcbiAgfCAnQm9vdHN0cmFwT3V0ZGF0ZWRFcnJvcidcbiAgfCAnQ0RLUmVzb2x2ZUFXU0FjY291bnRFcnJvcidcbiAgfCAnQ0RLVmVyc2lvbk1pc21hdGNoRXJyb3InXG4gIHwgJ0NGTlVwZGF0ZU5vdFN1cHBvcnRlZEVycm9yJ1xuICB8ICdDbG91ZEZvcm1hdGlvbkRlbGV0aW9uRXJyb3InXG4gIHwgJ0Nsb3VkRm9ybWF0aW9uRGVwbG95bWVudEVycm9yJ1xuICB8ICdDb21tb25OUE1FcnJvcidcbiAgfCAnRmlsZVBlcm1pc3Npb25zRXJyb3InXG4gIHwgJ01pc3NpbmdEZWZpbmVCYWNrZW5kRXJyb3InXG4gIHwgJ011bHRpcGxlU2FuZGJveEluc3RhbmNlc0Vycm9yJ1xuICB8ICdFU0J1aWxkRXJyb3InXG4gIHwgJ0V4cGlyZWRUb2tlbkVycm9yJ1xuICB8ICdGaWxlQ29udmVudGlvbkVycm9yJ1xuICB8ICdNb2R1bGVOb3RGb3VuZEVycm9yJ1xuICB8ICdJbnZhbGlkUGFja2FnZUpzb25FcnJvcidcbiAgfCAnU2VjcmV0Tm90U2V0RXJyb3InXG4gIHwgJ1N5bnRheEVycm9yJ1xuICB8ICdHZXRMYW1iZGFMYXllclZlcnNpb25FcnJvcic7XG4iXX0=